<div data-ng-controller="confirmCtrl">
    <div id="summary">
        <h3 class="field">Summary</h3>
        <table id="summary">
            <tr>
                <th>Name</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td>{{policy.name}}</td>
            </tr>
            <tr>
                <td>Version</td>
                <td>{{policy.version}}</td>
            </tr>
            <tr>
                <td>Author</td>
                <td>{{policy.author}}</td>
            </tr>
            <tr>
                <td>Action: Operation</td>
                <td>{{policy.type.name}}</td>
            </tr>
            <tr>
                <td>Action: When</td>
                <td>{{policy.trigger.name}}</td>
            </tr>
            <tr data-ng-if="policy.trigger.name == 'runonce'">
                <td>Trigger Date</td>
                <td>{{policy.trigger_date}}</td>
            </tr>
            <tr data-ng-if="policy.trigger.name == 'date/time'">
                <td>Date/Time</td>
                <td>{{policy.trigger_period.name}}</td>
            </tr>
            <tr data-ng-repeat="src in policy.sources">
              <td data-ng-if="src.type.name == 'collection'">Source: Type, Identifier, Hostname</td>
              <td data-ng-if="src.type.name == 'collection'">{{src.type.name}}, {{src.identifier.name}}, {{src.hostname.name}}</td>
              <td data-ng-if="src.type.name == 'pid'">Source: Type, Identifier</td>
              <td data-ng-if="src.type.name == 'pid'">{{src.type.name}}, {{src.identifier.name}}</td>
            </tr>
            <tr data-ng-repeat="tgt in policy.targets">
              <td data-ng-if="tgt.type.name == 'collection'">Target: Type, Identifier, hostname</td>
              <td data-ng-if="tgt.type.name == 'collection'">{{tgt.type.name}}, {{tgt.identifier.name}}, {{tgt.hostname.name}}</td>
              <td data-ng-if="tgt.type.name == 'pid'">Target: Type, Identifier</td>
              <td data-ng-if="tgt.type.name == 'pid'">{{tgt.type.name}}, {{tgt.identifier.name}}</td>
            </tr>
        </table>
    </div>
</div>
