<div data-ng-controller="confirmCtrl">
    <div id="summary">
        <h3 class="field">Summary</h3>
        <table id="summary">
            <tr>
                <th>Name</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td>{{policy.name}}</td>
            </tr>
            <tr>
                <td>Version</td>
                <td>{{policy.version}}</td>
            </tr>
            <tr>
                <td>Author</td>
                <td>{{policy.author}}</td>
            </tr>
            <tr data-ng-repeat="item in policy.collections"
              data-ng-show="pidDefined()">
                <td>Source Collection</td>
                <td>{{item.type.name}}: {{item.name}}</td>
            </tr>
            <tr data-ng-repeat="src in policy.sources"
              data-ng-show="collDefined()">
                <td>Source Collection</td>
                <td>{{src.organisation.name}}, {{src.system.name}},
                  {{src.site.name}}, {{src.resource.name}}, {{src.path}}
                </td>
            </tr>
            <tr>
                <td>Action</td>
                <td>{{policy.action.name}}</td>
            </tr>
            <tr>
                <td>Type</td>
                <td>{{policy.type.name}}</td>
            </tr>
            <tr>
                <td>Trigger</td>
                <td>{{policy.trigger.name}}</td>
            </tr>
            <tr data-ng-if="policy.trigger.name == 'runonce'">
                <td>Trigger Date</td>
                <td>{{policy.trigger_date}}</td>
            </tr>
            <tr data-ng-if="policy.trigger.name == 'periodic'">
                <td>Trigger Period</td>
                <td>{{policy.trigger_period.weekday}}
                    {{policy.trigger_period.month}}
                    {{policy.trigger_period.day}}
                    {{policy.trigger_period.hour}}
                    {{policy.trigger_period.minute}}
                </td>
            </tr>
            <tr>
                <td>Target Collection</td>
                <td>{{policy.target.organisation.name}},
                  {{policy.target.system.name}},
                  {{policy.target.site.name}},
                  {{policy.target.resource.name}},
                  {{policy.target.path}}</td>
            </tr>
        </table>
    </div>
</div>
