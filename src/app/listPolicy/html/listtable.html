<div data-ng-controller="listCtrl">
    <div id="checkboxes">
        <div class="checkbox" data-ng-repeat="policy_column in policy_columns">
            <input type="checkbox" data-ng-model="policy_key.name"
                data-ng-change="updateKey(policy_column.idx)"
                data-ng-checked="policy_column.visible">
                {{policy_column.name}}
        </div>
    </div>
    Search: <input data-ng-model="searchparam" data-ng-change="filterPolicy()">
    <br/><br/>
    <input type=button data-ng-click="reloadPolicyList()" value="Reload List">
    <!--
    <input type=button data-ng-click="loadLogList()" value="Load Logs">
    --!>

    <table data-ng-table="tabs" show-filter="true" class="table ng-table-rowselected">
        <thead>
            <tr>
                <th data-ng-repeat="policy_col in policy_columns"
                    data-ng-show="policy_col.visible">
                    {{policy_col.name}}
                </th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="pol_data in $data"
                data-ng-show="pol_data.visible"
                data-ng-click="resetFlag(); pol_data.$selected = !pol_data.$selected; display_pol(pol_data)"
                data-ng-class="{'rowhighlight': pol_data.$selected, '': !pol_data.$selected}">
                <td data-ng-repeat="pol_val in pol_data.pol_vals"
                    data-ng-show="pol_val.visible">
                    {{pol_val.name}}
                </td>
            </tr>
        </tbody>
    </table>
    <textarea id="listpolicy">
        {{policy_obj}}
    </textarea>
</div>

